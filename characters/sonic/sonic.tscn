[gd_scene load_steps=39 format=3 uid="uid://b2sas3fcck1n6"]

[ext_resource type="Script" uid="uid://dn0lp11b0nbss" path="res://characters/sonic/scripts/sonic.gd" id="1_5ifmx"]
[ext_resource type="Texture2D" uid="uid://1mv1lowpwnyj" path="res://characters/sonic/sprites/sonic_sprite_sheet.png" id="2_5ifmx"]
[ext_resource type="AudioStream" uid="uid://ducsdqbfgw1np" path="res://characters/sonic/sounds/jump.mp3" id="3_5ifmx"]
[ext_resource type="AudioStream" uid="uid://bavuwgt46s5pc" path="res://characters/sonic/sounds/spindash_release.mp3" id="4_d5pst"]
[ext_resource type="AudioStream" uid="uid://bqstirama3j28" path="res://characters/sonic/sounds/spindash_charge.mp3" id="5_r5rcp"]
[ext_resource type="AudioStream" uid="uid://b3cw0qshqhjbn" path="res://characters/sonic/sounds/roll.mp3" id="6_e2hrk"]
[ext_resource type="AudioStream" uid="uid://cgjy4i5wu6veo" path="res://characters/sonic/sounds/skid.mp3" id="7_2lkd1"]
[ext_resource type="AudioStream" uid="uid://dugss15cfjotl" path="res://characters/sonic/sounds/DeathSound.mp3" id="8_uous7"]
[ext_resource type="AudioStream" uid="uid://xb8x574wioor" path="res://characters/sonic/sounds/rings_lose.mp3" id="9_5ifmx"]
[ext_resource type="Script" uid="uid://6e4jhb08es6g" path="res://characters/states/state_machine.gd" id="10_wpnlk"]
[ext_resource type="Script" uid="uid://b2dsridkxnl3a" path="res://characters/states/idle.gd" id="11_c7fke"]
[ext_resource type="Script" uid="uid://dc48ht0om358f" path="res://characters/states/run.gd" id="12_41aki"]
[ext_resource type="Script" uid="uid://clmmg3ey5tjis" path="res://characters/states/jump.gd" id="13_fqyed"]
[ext_resource type="Script" uid="uid://c3sogkry4drfd" path="res://characters/states/roll.gd" id="14_w02fn"]
[ext_resource type="Script" uid="uid://2qdji157mifw" path="res://characters/states/spindash.gd" id="15_6ri6b"]
[ext_resource type="Script" uid="uid://bf1xjicg4mni5" path="res://characters/states/crouch.gd" id="16_lq7el"]
[ext_resource type="Script" uid="uid://cal5d1k7qjrl5" path="res://characters/states/skid.gd" id="16_vuumm"]
[ext_resource type="Script" uid="uid://cu251fw58uxku" path="res://characters/states/hurt.gd" id="17_lci63"]
[ext_resource type="Script" uid="uid://bwr0rw25fikpx" path="res://characters/states/dead.gd" id="19_x472b"]
[ext_resource type="Script" uid="uid://dhbbop3ihyokd" path="res://characters/states/look_up.gd" id="20_c7fke"]

[sub_resource type="Animation" id="Animation_uous7"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:region_rect")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Rect2(152, 349, 29, 39)]
}

[sub_resource type="Animation" id="Animation_f2txt"]
resource_name = "look_down"
length = 0.6

[sub_resource type="Animation" id="Animation_q7fmc"]
resource_name = "crouch2"

[sub_resource type="Animation" id="Animation_r5rcp"]
resource_name = "dead"

[sub_resource type="Animation" id="Animation_aicyk"]
resource_name = "hurt"
length = 0.2
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:region_rect")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Rect2(448, 960, 76, 64)]
}

[sub_resource type="Animation" id="Animation_1ainy"]
resource_name = "idle"
length = 30.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:region_rect")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Rect2(36, 82, 58, 78)]
}

[sub_resource type="Animation" id="Animation_5ifmx"]
resource_name = "roll_2"
length = 1.2
loop_mode = 1
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = false
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(),
"transitions": PackedFloat32Array(),
"values": []
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:region_rect")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Rect2(542, 704, 60, 60)]
}

[sub_resource type="Animation" id="Animation_bg1qt"]
resource_name = "look_up"
length = 0.4

[sub_resource type="Animation" id="Animation_d5pst"]
resource_name = "jump_2"
length = 1.2
loop_mode = 1
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = false
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(),
"transitions": PackedFloat32Array(),
"values": []
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:region_rect")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Rect2(542, 704, 60, 60)]
}

[sub_resource type="Animation" id="Animation_i2t4f"]
resource_name = "run"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:region_rect")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [Rect2(864, 344, 64, 72), Rect2(1056, 344, 64, 72), Rect2(1240.01, 344, 64, 72), Rect2(1432, 344, 64, 72)]
}

[sub_resource type="Animation" id="Animation_8b0r0"]
resource_name = "stopping"
length = 0.9
loop_mode = 1

[sub_resource type="Animation" id="Animation_0b4ue"]
resource_name = "spindash"
length = 0.38
loop_mode = 1

[sub_resource type="Animation" id="Animation_km5ld"]
resource_name = "walk"
length = 1.2
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:region_rect")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Rect2(652, 212, 52, 76)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_0b4ue"]
_data = {
&"RESET": SubResource("Animation_uous7"),
&"crouch": SubResource("Animation_f2txt"),
&"crouch2": SubResource("Animation_q7fmc"),
&"dead": SubResource("Animation_r5rcp"),
&"hurt": SubResource("Animation_aicyk"),
&"idle": SubResource("Animation_1ainy"),
&"jump": SubResource("Animation_5ifmx"),
&"look_up": SubResource("Animation_bg1qt"),
&"roll": SubResource("Animation_d5pst"),
&"run": SubResource("Animation_i2t4f"),
&"skid": SubResource("Animation_8b0r0"),
&"spindash": SubResource("Animation_0b4ue"),
&"walk": SubResource("Animation_km5ld")
}

[sub_resource type="GDScript" id="GDScript_3m7hj"]
script/source = "extends AnimationPlayer
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6daa7"]
size = Vector2(19, 35.515)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_viobm"]
size = Vector2(19, 35.515)

[sub_resource type="CircleShape2D" id="CircleShape2D_bg1qt"]
radius = 14.1457

[node name="Node2D" type="Node2D"]

[node name="Sonic" type="CharacterBody2D" parent="."]
collision_mask = 46
floor_constant_speed = true
floor_snap_length = 32.0
script = ExtResource("1_5ifmx")
max_speed = 550.0
acceleration = 500.0
max_jump_time = 0.4
spindash_speed_per_level = 100.0
max_spindash_levels = 8

[node name="Camera2D" type="Camera2D" parent="Sonic"]
position = Vector2(0, -0.5)
zoom = Vector2(2.6, 2.6)
limit_left = 0
limit_top = -999999
position_smoothing_speed = 2.0
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_vertical_offset = -0.48
drag_left_margin = 0.0
drag_top_margin = 0.0
drag_right_margin = 0.0
drag_bottom_margin = 0.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="Sonic"]
physics_interpolation_mode = 2
libraries = {
&"": SubResource("AnimationLibrary_0b4ue")
}
script = SubResource("GDScript_3m7hj")

[node name="Sprite2D" type="Sprite2D" parent="Sonic"]
texture_filter = 3
scale = Vector2(0.5, 0.5)
texture = ExtResource("2_5ifmx")
region_enabled = true
region_rect = Rect2(152, 349, 29, 39)

[node name="Hitbox_Stand" type="CollisionShape2D" parent="Sonic"]
show_behind_parent = true
position = Vector2(4.5, 0)
shape = SubResource("RectangleShape2D_6daa7")
one_way_collision_margin = 128.0

[node name="Hitbox_standLeft" type="CollisionShape2D" parent="Sonic"]
show_behind_parent = true
position = Vector2(-4.5, 0)
shape = SubResource("RectangleShape2D_viobm")
one_way_collision_margin = 113.5

[node name="Hitbox_roll" type="CollisionShape2D" parent="Sonic"]
show_behind_parent = true
top_level = true
position = Vector2(0, 3.505)
shape = SubResource("CircleShape2D_bg1qt")
one_way_collision_margin = 20.0

[node name="Jump_sound" type="AudioStreamPlayer2D" parent="Sonic"]
stream = ExtResource("3_5ifmx")
volume_db = -12.0

[node name="spindash_roll_sound" type="AudioStreamPlayer2D" parent="Sonic"]
stream = ExtResource("4_d5pst")
volume_db = -12.0

[node name="spindash_charge_sound" type="AudioStreamPlayer2D" parent="Sonic"]
stream = ExtResource("5_r5rcp")
volume_db = -12.0

[node name="roll_sound" type="AudioStreamPlayer2D" parent="Sonic"]
stream = ExtResource("6_e2hrk")
volume_db = -12.0

[node name="skid_sound" type="AudioStreamPlayer2D" parent="Sonic"]
stream = ExtResource("7_2lkd1")
volume_db = -12.0

[node name="death_sound" type="AudioStreamPlayer2D" parent="Sonic"]
stream = ExtResource("8_uous7")
volume_db = 1.0

[node name="scatter_rings_sound" type="AudioStreamPlayer2D" parent="Sonic"]
stream = ExtResource("9_5ifmx")
volume_db = -12.0

[node name="StateMachine" type="Node" parent="Sonic"]
script = ExtResource("10_wpnlk")

[node name="Idle" type="Node" parent="Sonic/StateMachine"]
script = ExtResource("11_c7fke")

[node name="Run" type="Node" parent="Sonic/StateMachine"]
script = ExtResource("12_41aki")

[node name="Jump" type="Node" parent="Sonic/StateMachine"]
script = ExtResource("13_fqyed")

[node name="Roll" type="Node" parent="Sonic/StateMachine"]
script = ExtResource("14_w02fn")

[node name="Spindash" type="Node" parent="Sonic/StateMachine"]
script = ExtResource("15_6ri6b")

[node name="Skid" type="Node" parent="Sonic/StateMachine"]
script = ExtResource("16_vuumm")

[node name="Crouch" type="Node" parent="Sonic/StateMachine"]
script = ExtResource("16_lq7el")

[node name="Hurt" type="Node" parent="Sonic/StateMachine"]
script = ExtResource("17_lci63")

[node name="Dead" type="Node" parent="Sonic/StateMachine"]
script = ExtResource("19_x472b")

[node name="LookUp" type="Node" parent="Sonic/StateMachine"]
script = ExtResource("20_c7fke")
